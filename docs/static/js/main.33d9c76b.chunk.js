(this["webpackJsonptw-thrall-map"]=this["webpackJsonptw-thrall-map"]||[]).push([[0],{25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a,i=n(1),o=n.n(i),c=n(10),r=n.n(c),s=(n(25),n(26),n(15)),l=n(16),d=n(20),u=n(19),h=(n(27),n(28),n(3)),j=n(55),m=n(56),b=n(57),f=n(2),O=(n(29),n(0)),p=function(e){return Object(O.jsxs)("div",{className:"thrall-header",onClick:function(){return e.onSelect(e.thrall)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"thrall-header-name",children:e.thrall.name}),Object(O.jsx)("div",{className:"thrall-header-type",children:e.thrall.type})]}),Object(O.jsx)("div",{style:{marginLeft:"auto",marginRight:"16px"},children:Object(O.jsx)("span",{className:"material-icons",style:{fontSize:"20pt"},children:e.icon})})]})},v=function(e){return Object(O.jsx)(p,{onSelect:e.onSelect,thrall:e.thrall,icon:"chevron_right"})};!function(e){e.ALCHEMIST="ALCHEMIST",e.BLACKSMITH="BLACKSMITH",e.ARMORER="ARMORER",e.CARPENTER="CARPENTER",e.TASKMASTER="TASKMASTER",e.GROOMER="GROOMER",e.SMELTER="SMELTER  "}(a||(a={}));n(31),n(32);var x=function(e){var t="thrall-detail-single-location";return e.isHovered&&(t+=" thrall-details-single-location__highlight"),Object(O.jsx)("div",{onClick:function(){return e.onSelectLocation(e.location)},className:t,children:Object(O.jsxs)("div",{className:"display-in-row display-in-center ",children:[Object(O.jsx)("div",{style:{marginRight:"16px"},children:Object(O.jsx)("img",{alt:"icon camp",src:"/tw-map/fc_assets/icon_camp.png"})}),Object(O.jsxs)("div",{style:{marginRight:"auto"},children:[Object(O.jsx)("div",{style:{fontSize:"14pt"},children:e.location.location}),Object(O.jsxs)("div",{style:{fontSize:"11pt"},children:["Spawns at the ",e.location.spawnSpot," spot."]}),Object(O.jsx)("div",{style:{fontSize:"9pt"},children:e.location.spawnSpotDetail}),Object(O.jsxs)("div",{style:{fontSize:"9pt"},children:["Coordiantes: ",e.location.x," / ",e.location.y," / ",e.location.z]})]})]})})};function g(e,t,n){if(!t||!n)return!1;var a=t.location,i=a.x,o=a.y,c=a.z;return n.id===t.thrall.id&&e.x===i&&e.y===o&&e.z===c}var S=function(e){var t;return Object(O.jsx)("div",{className:"thrall-location-list-container",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"thrall-location-list-header",children:"Locations"}),Object(O.jsx)("div",{className:"thrall-location-list-subheader",children:"Click a location to jump to it"}),Object(O.jsx)("div",{className:"thrall-details-locations",children:null===(t=e.thrall)||void 0===t?void 0:t.locations.map((function(t,n){return Object(O.jsx)(x,{onSelectLocation:e.onSelectLocation,isHovered:g(t,e.hoveredLocation,null===e||void 0===e?void 0:e.thrall),location:t},n)}))})]})})},C=(n(33),function(e){return Object(O.jsx)("div",{onClick:function(){return e.onSelectItem(e.item)},className:"thrall-detail-single-item",children:Object(O.jsx)("div",{className:"display-in-row display-in-center ",children:Object(O.jsxs)("div",{style:{marginRight:"auto"},children:[Object(O.jsx)("div",{style:{fontSize:"12pt"},children:e.item.name}),Object(O.jsxs)("div",{style:{fontSize:"9pt"},children:["Crafted at the ",e.item.sourceStation]})]})})})}),w=function(e){return Object(O.jsx)("div",{className:"thrall-item-list-container",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"thrall-item-list-header",children:"Items"}),Object(O.jsx)("div",{className:"thrall-item-list-subheader",children:"Click an item for more information"}),Object(O.jsx)("div",{className:"thrall-details-items",children:e.items.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t,n){return Object(O.jsx)(C,{onSelectItem:e.onSelectItem,item:t},n)}))})]})})},y=function(e){var t,n=e.focused?"thrall-details-sliding-in":"thrall-details-sliding-out";return Object(O.jsx)("div",{className:"thrall-details-container "+n,children:Object(O.jsxs)("div",{className:"thrall-details",children:[Object(O.jsx)(p,{thrall:e.thrall||{locations:[],name:"",type:a.ALCHEMIST,id:"ada"},icon:"chevron_left",onSelect:e.onDeSelect}),Object(O.jsx)("div",{className:"thrall-location-description",children:null===(t=e.thrall)||void 0===t?void 0:t.locationDescription}),Object(O.jsx)(S,{hoveredLocation:e.hoveredLocation,thrall:e.thrall,onSelectLocation:e.onSelectLocation}),Object(O.jsx)(w,{items:e.items,onSelectItem:e.onSelectItem})]})})};n(34);var N=function(e){var t=e.selectedThrallFocused?"thrall-list-sliding-out":"thrall-list-sliding-in",n=[];if(e.selectedThrall&&e.selectedThrall.name){var a=e.selectedThrall.name;n=e.allItems.filter((function(e){return t=a,(e.sourceThrall||[]).indexOf(t)>=0;var t}))}return Object(O.jsxs)(o.a.Fragment,{children:[Object(O.jsx)(y,{focused:e.selectedThrallFocused,onSelectLocation:e.onSelectLocation,hoveredLocation:e.hoveredLocation,items:n,thrall:e.selectedThrall,onSelectItem:e.onSelectItem,onDeSelect:e.onDeselectThrall}),Object(O.jsx)("div",{className:"thrall-list "+t,children:e.thralls.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){return Object(O.jsx)(v,{onSelect:e.onSelectThrall,thrall:t},t.id)}))})]})};function T(e){return{lat:-1*e.y,lng:e.x}}var L=n(52);function k(e){var t=Object(L.a)();if(e.location&&!e.location.preventPan){var n=e.location.zoom?e.location.zoom:t.getZoom(),a=e.location.center?e.location.center:t.getCenter();t.flyTo(a,n)}return null}var I=n(53),R=n(54),M=Object(f.icon)({iconUrl:"/tw-map/fc_assets/icon_camp.png",iconSize:[24,24],tooltipAnchor:[0,12]});function z(e){if(!e.focused)return Object(O.jsx)(o.a.Fragment,{});var t=e.thrall;return t?t.locations.map((function(n){return function(e,t,n){var a=T(t);return Object(O.jsx)(I.a,{eventHandlers:{mouseover:function(){n({location:t,thrall:e})},mouseout:function(){n(void 0)}},icon:M,position:a,children:Object(O.jsx)(R.a,{direction:"bottom",children:e.name})},a.lat+"_"+a.lng)}(t,n,e.onHoveredChange)})):Object(O.jsx)(o.a.Fragment,{})}function _(e){var t=Object(L.b)({zoom:function(){console.log(t.getZoom()),e.onZoomCenterChange({zoom:t.getZoom(),center:t.getCenter(),preventPan:!0})},click:function(e){console.log(e.latlng.lat,e.latlng.lng)},drag:function(){t.panInsideBounds(e.mapBounds,{animate:!1}),e.onZoomCenterChange({zoom:t.getZoom(),center:t.getCenter(),preventPan:!0})}});return null}n(35);var A=function(e){return e.open?Object(O.jsx)("div",{className:"dialog-container",onClick:e.onClose,children:Object(O.jsxs)("div",{className:"dialog",onClick:function(e){"A"!==e.target.tagName&&e.preventDefault(),e.stopPropagation()},children:[Object(O.jsx)("div",{className:"dialog-header",children:"Information"}),Object(O.jsx)("div",{className:"dialog-subheader",children:"About"}),Object(O.jsxs)("div",{children:["This map contains information about the thralls added by the\xa0",Object(O.jsx)("a",{target:"_blank",href:"https://steamcommunity.com/sharedfiles/filedetails/?id=1326031593",rel:"noreferrer",children:"Thrall Wars Dungeon Mod"}),".",Object(O.jsx)("br",{}),"Check out the mod page for more information!",Object(O.jsx)("br",{}),"You can find the source code over on ",Object(O.jsx)("a",{target:"_blank",href:"https://github.com/Nia292/tw-map",rel:"noreferrer",children:"GitHub"}),"."]}),Object(O.jsx)("div",{className:"dialog-subheader",children:"Privacy"}),Object(O.jsxs)("div",{children:["This site does not track your information. ",Object(O.jsx)("br",{}),"This site does not use cookies. ",Object(O.jsx)("br",{}),"This site does not store data on your local device aside from normal browser caching. ",Object(O.jsx)("br",{}),"Site provided by\xa0",Object(O.jsx)("a",{target:"_blank",href:"https://pages.github.com/",rel:"noreferrer",children:"GitHub pages"}),". Check out\xa0",Object(O.jsx)("a",{target:"_blank",href:"https://docs.github.com/en/github/site-policy/github-privacy-statement",rel:"noreferrer",children:"GitHub's privacy statement"}),"\xa0to find out what data GitHub collects."]}),Object(O.jsx)("div",{className:"dialog-subheader",children:"Contributing"}),Object(O.jsx)("div",{children:"This map is far from completed. Head over to GitHub to find out how to contribute data!"}),Object(O.jsx)("div",{className:"dialog-subheader",children:"More"}),Object(O.jsxs)("div",{children:["There is also the ",Object(O.jsx)("a",{target:"_blank",href:"https://nia292.github.io/tw-dice-calc/index.html",rel:"noreferrer",children:"TW Dice Calculator"})," to plan your RP characters!"]}),Object(O.jsx)("div",{className:"dialog-subheader",children:"Credits"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("strong",{children:"Funcom"})," for Conan Exiles and the map!",Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:"Savage Wilds"})," mod for the Savage Wilds map! ",Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:"Japata"})," for helping me with the locations and general thrall information! \ud83d\udc0d ",Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:"Zenoa"})," for doing the immensely menial work of finding out what thrall crafts which item!"]}),Object(O.jsx)("div",{className:"dialog-subheader",children:"Contributors"}),Object(O.jsx)("div",{className:"display-in-column",children:e.contributors.map((function(e){return Object(O.jsx)("div",{children:e},e)}))})]})}):Object(O.jsx)(o.a.Fragment,{})},E=n(11),F=n(5),B=(n(36),function(e){function t(t,n){if(""!==t){var a=Number.parseInt(t,10);e.onOffsetChange(Object(F.a)(Object(F.a)({},e.offset),{},Object(E.a)({},n,a)))}}return e.open?Object(O.jsx)("div",{className:"dialog-container",onClick:e.onClose,children:Object(O.jsxs)("div",{className:"dialog",onClick:function(e){"A"!==e.target.tagName&&e.preventDefault(),e.stopPropagation()},children:[Object(O.jsx)("div",{className:"dialog-header",children:"Settings"}),Object(O.jsx)("div",{className:"dialog-subheader",children:"Map Offsets"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Used to correct initial reading errors."}),Object(O.jsxs)("div",{className:"settings-input",children:[Object(O.jsx)("label",{htmlFor:"offset-top",children:"Offset Top"}),Object(O.jsx)("input",{id:"offset-top",type:"number",onChange:function(e){return t(e.target.value,"offsetTop")},value:e.offset.offsetTop})]}),Object(O.jsxs)("div",{className:"settings-input",children:[Object(O.jsx)("label",{htmlFor:"offset-top",children:"Offset Bottom"}),Object(O.jsx)("input",{id:"offset-top",type:"number",onChange:function(e){return t(e.target.value,"offsetBot")},value:e.offset.offsetBot})]}),Object(O.jsxs)("div",{className:"settings-input",children:[Object(O.jsx)("label",{htmlFor:"offset-top",children:"Offset Left"}),Object(O.jsx)("input",{id:"offset-top",type:"number",onChange:function(e){return t(e.target.value,"offsetLeft")},value:e.offset.offsetLeft})]}),Object(O.jsxs)("div",{className:"settings-input",children:[Object(O.jsx)("label",{htmlFor:"offset-top",children:"Offset Right"}),Object(O.jsx)("input",{id:"offset-top",type:"number",onChange:function(e){return t(e.target.value,"offsetRight")},value:e.offset.offsetRight})]})]})]})}):Object(O.jsx)(o.a.Fragment,{})});function H(e,t,n){var a=e.find((function(e){return function(e,t){var n=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return n<=.005&&a<=.005}(e,t)}));a?a.names.push(n.name):e.push({x:t.x,y:t.y,z:t.z,names:[n.name]})}var Z=Object(f.icon)({iconUrl:"/tw-map/fc_assets/icon_camp.png",iconSize:[24,24],tooltipAnchor:[0,12]});function P(e){if(e.focused)return Object(O.jsx)(o.a.Fragment,{});var t=function(e){var t=[];return e.forEach((function(e){e.locations.forEach((function(n){return H(t,n,e)}))})),t}(e.thralls).map((function(e){return function(e){var t=T(e);return Object(O.jsx)(I.a,{icon:Z,position:t,children:Object(O.jsx)(R.a,{direction:"bottom",children:Object(O.jsx)("div",{className:"display-in-column",children:e.names.map((function(e){return Object(O.jsx)("div",{children:e},e)}))})})},t.lat+"_"+t.lng)}(e)}));return Object(O.jsx)(o.a.Fragment,{children:t})}var D=n(18),q=n.n(D),W=(n(49),function(e){switch(e){case"CUSTOM_LOOT":return"Custom Loot";case"MINE":return"Mined";case"THRALL_CRAFT":return"Thrall-Made";case"TW_MERCHANT":return"Faction Merchant";case"BOSS_LOOT":return"TW Boss Loot";case"CRAFT":return"Player-Made"}}),G=function(e){var t=Object(i.useState)(""),n=Object(h.a)(t,2),a=n[0],o=n[1],c=Object(i.useState)([]),r=Object(h.a)(c,2),s=r[0],l=r[1],d={onChange:function(e,t){return o(t.newValue)},value:a,className:"map-item-search-input",placeholder:"Item Search"};return Object(O.jsx)(q.a,{suggestions:s,getSuggestionValue:function(e){return e.name},inputProps:d,onSuggestionsFetchRequested:function(t){return function(t){var n=e.items.filter((function(e){return function(e,t){return e.toLowerCase().includes(t.toLowerCase())}(e.name,t)}));l(n.slice(0,15))}(t.value)},onSuggestionsClearRequested:function(){return l([])},onSuggestionSelected:function(t,n){return a=n.suggestion,void(e.itemSelect&&(e.itemSelect(a),o("")));var a},renderSuggestion:function(e){return Object(O.jsxs)("div",{className:"single-suggestion",children:[Object(O.jsx)("div",{children:e.name}),Object(O.jsx)("div",{className:"single-suggestion-source",children:(t=e.source,t.map(W).join(", "))})]});var t}})},U=(n(50),function(e){var t=[];e.mapItem.sourceText&&t.push(Object(O.jsx)("div",{children:e.mapItem.sourceText},"st")),e.mapItem.unlockedBy&&t.push(Object(O.jsxs)("div",{style:{width:"100%"},children:["This item is unlocked by:",Object(O.jsx)("ul",{children:e.mapItem.unlockedBy.map((function(t){return Object(O.jsx)("li",{onClick:function(){return e.onSelectItem(t)},className:"clickable-thrall",children:e.mapItem.unlockedBy},t)}))})]},"ub"));var n=window.location.origin,a="".concat(n,"/tw-map?map=exiled-lands&item=").concat(escape(e.mapItem.name));return t.push(Object(O.jsxs)("div",{style:{width:"100%"},children:["Share Link",Object(O.jsx)("br",{}),Object(O.jsx)("input",{value:a,disabled:!0,style:{width:"100%"}})]},"share")),Object(O.jsx)(o.a.Fragment,{children:t.map((function(e){return e}))})}),K=function(e){var t,n;if(!e.item)throw new Error("No item provided");switch(e.source){case"CUSTOM_LOOT":return Object(O.jsx)("div",{children:"This item is commonly set up as custom loot by the server admins, e.g. for trading in Thrall Wars boss keys"});case"MINE":return Object(O.jsx)("div",{children:"Mined from the Mining Station crafting station."});case"BOSS_LOOT":return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:"This item can be looted from the following Thrall Wars bosses after defeating them:"}),Object(O.jsx)("ul",{style:{marginTop:"2px",marginBottom:0},children:null===(t=e.item.sourceBoss)||void 0===t?void 0:t.map((function(e){return Object(O.jsx)("li",{children:e},e)}))})]});case"THRALL_CRAFT":return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["This item is crafted by the following thrall(s) at the ",e.item.sourceStation,":"]}),Object(O.jsx)("ul",{style:{marginTop:"2px",marginBottom:0},children:null===(n=e.item.sourceThrall)||void 0===n?void 0:n.map((function(t){return n=t,Object(O.jsx)("li",{className:"clickable-thrall",onClick:function(){return e.thrallClick(n)},children:n},n);var n}))})]});case"TW_MERCHANT":return Object(O.jsx)("div",{children:"Sold by one of the faction merchants."});case"CRAFT":return Object(O.jsxs)("div",{children:["This item can be made by a player after unlocking it's recipe. It is made at the ",e.item.sourceStation,"."]})}},J=function(e){return e.mapItem?Object(O.jsx)("div",{className:"dialog-container",onClick:e.onDeselectItem,children:Object(O.jsxs)("div",{className:"dialog",onClick:function(e){"A"!==e.target.tagName&&e.preventDefault(),e.stopPropagation()},children:[Object(O.jsx)("div",{className:"dialog-header",children:e.mapItem.name}),Object(O.jsx)("div",{className:"dialog-subheader",children:"Source"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"display-in-column",children:e.mapItem.source.map((function(t){return Object(O.jsx)("div",{style:{marginBottom:"4px",marginTop:"4px"},children:Object(O.jsx)(K,{source:t,item:e.mapItem,thrallClick:e.onClickThrall})},t)}))})}),Object(O.jsx)("div",{className:"dialog-subheader",children:"Info"}),Object(O.jsx)(U,{mapItem:e.mapItem,onSelectItem:e.onSelectItem})]})}):Object(O.jsx)(o.a.Fragment,{})},V=function(e){return e.open?Object(O.jsx)("div",{className:"dialog-container",onClick:e.onClose,children:Object(O.jsxs)("div",{className:"dialog",onClick:function(e){"A"!==e.target.tagName&&e.preventDefault(),e.stopPropagation()},children:[Object(O.jsx)("div",{className:"dialog-header",children:"Thrall Wars Mini Guide"}),Object(O.jsx)("div",{className:"dialog-subheader",children:"General"}),Object(O.jsx)("div",{children:"Will come soon"})]})}):Object(O.jsx)(o.a.Fragment,{})},Q={lat:0,lng:0};function Y(e){var t=Object(i.useState)(void 0),n=Object(h.a)(t,2),a=n[0],o=n[1],c=Object(i.useState)(!1),r=Object(h.a)(c,2),s=r[0],l=r[1],d=Object(i.useState)(void 0),u=Object(h.a)(d,2),p=u[0],v=u[1],x=Object(i.useState)(!1),g=Object(h.a)(x,2),S=g[0],C=g[1],w=Object(i.useState)(!1),y=Object(h.a)(w,2),L=y[0],I=y[1],R=Object(i.useState)(!1),M=Object(h.a)(R,2),E=M[0],F=M[1],H=Object(i.useState)({offsetTop:0,offsetBot:0,offsetLeft:0,offsetRight:0}),Z=Object(h.a)(H,2),D=Z[0],q=Z[1],W=Object(i.useState)(void 0),U=Object(h.a)(W,2),K=U[0],Y=U[1],X=Object(i.useState)(!1),$=Object(h.a)(X,2),ee=$[0],te=$[1],ne=Object(i.useState)(void 0),ae=Object(h.a)(ne,2),ie=ae[0],oe=ae[1];function ce(e){var t=function(e){if(e.length<=0)return null;if(e.length<=1)return T(e[0]);if(e.length<=2){var t=e.map((function(e){return T(e)}));return new f.Polyline(t).getBounds().getCenter()}var n=e.map((function(e){return T(e)}));return new f.Polygon(n).getBounds().getCenter()}(e.locations);t&&v({zoom:-8,center:t}),o(e),l(!0)}Object(i.useEffect)((function(){var t=new URLSearchParams(window.location.search).get("item");if(t){var n=t.toLowerCase(),a=e.items.find((function(e){return e.name.toLowerCase()===n}));a&&Y(a)}}),[e,Y]);var re,se=(null===p||void 0===p?void 0:p.center)?p.center:Q,le=(null===p||void 0===p?void 0:p.zoom)?p.zoom:-8.7,de=function(e,t,n,a,i){var o=new f.LatLng(e-i.offsetBot,t-i.offsetLeft),c=new f.LatLng(n-i.offsetTop,a-i.offsetRight);return new f.LatLngBounds(o,c)}(e.south,e.west,e.north,e.east,D);return Object(O.jsxs)("div",{className:"thrall-map-wrapper",children:[Object(O.jsx)("div",{id:"item-search",children:Object(O.jsx)(G,{items:e.items,itemSelect:Y})}),Object(O.jsx)("div",{id:"guide-button",className:"display-in-center",onClick:function(){return te(!0)},children:Object(O.jsx)("span",{className:"material-icons",style:{fontSize:"18pt"},children:"article"})}),Object(O.jsx)("div",{id:"info-button",className:"display-in-center",onClick:function(){return C(!0)},children:Object(O.jsx)("span",{className:"material-icons",style:{fontSize:"18pt"},children:"help_outline"})}),Object(O.jsx)("div",{id:"settings-button",className:"display-in-center",onClick:function(){return I(!0)},children:Object(O.jsx)("span",{className:"material-icons",style:{fontSize:"18pt"},children:"settings"})}),Object(O.jsxs)("div",{id:"hq-checkbox-wrapper",className:"display-in-center",children:[Object(O.jsx)("input",{id:"hq-checkbox",type:"checkbox",checked:E,onChange:function(e){var t=e.target;F(t.checked)}}),Object(O.jsx)("label",{htmlFor:"hq-checkbox",children:"HQ Map (11mb)"})]}),Object(O.jsxs)("div",{id:"map-link",className:"display-in-center",children:["Switch to\xa0",Object(O.jsx)("a",{rel:"noreferrer",href:(re=e.mapType,"exiled-lands"===re?"/tw-map?map=savage-wilds":"/tw-map?map=exiled-lands"),children:function(e){return"exiled-lands"===e?"Savage Wilds":"Exiled Lands"}(e.mapType)})]}),Object(O.jsx)(A,{open:S,onClose:function(){return C(!1)},contributors:e.contributors}),Object(O.jsx)(B,{open:L,offset:D,onOffsetChange:q,onClose:function(){return I(!1)}}),Object(O.jsx)(J,{onDeselectItem:function(){return Y(void 0)},onSelectItem:function(t){return function(t){var n=t.toLowerCase(),a=e.items.find((function(e){return e.name.toLowerCase()===n}));a&&Y(a)}(t)},onClickThrall:function(t){var n=e.data.find((function(e){return e.id===t}));n&&(ce(n),Y(void 0))},mapItem:K}),Object(O.jsxs)(j.a,{center:se,style:{height:"100vh",width:"calc(100vw - var(--sidebar-width))"},minZoom:e.minZoom,maxZoom:e.maxZoom,zoomSnap:.1,zoomDelta:.1,crs:f.CRS.Simple,bounds:de,maxBounds:de,zoomControl:!1,zoom:le,children:[Object(O.jsx)(m.a,{}),!E&&Object(O.jsx)(b.a,{url:"/tw-map"+e.mapLq,bounds:de}),E&&Object(O.jsx)(b.a,{url:"/tw-map"+e.mapHq,bounds:de}),Object(O.jsx)(_,{mapBounds:de,onZoomCenterChange:v}),Object(O.jsx)(k,{location:p}),Object(O.jsx)(z,{thrall:a,focused:s,onHoveredChange:oe}),Object(O.jsx)(P,{thralls:e.data,focused:s}),Object(O.jsx)(V,{open:ee,onClose:function(){return te(!1)}})]}),Object(O.jsx)("div",{className:"sidebar-right",children:Object(O.jsx)(N,{thralls:e.data,allItems:e.items,onSelectItem:Y,onSelectLocation:function(e){v({center:T(e),zoom:-7})},selectedThrallFocused:s,selectedThrall:a,hoveredLocation:ie,onDeselectThrall:function(){l(!1),v({zoom:-8.7,center:Q})},onSelectThrall:ce})})]})}function X(){var e=new URLSearchParams(window.location.search).get("map");if(e&&"savage-wilds"===e)return"savage-wilds";if(e&&"exiled-lands"===e)return"exiled-lands";if(!e){var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?map=exiled-lands";window.history.pushState({path:t},"",t)}return"exiled-lands"}function $(){var e=new URLSearchParams(window.location.search).get("minZoom");if(e){var t=Number.parseFloat(e);if(t)return t;console.error("Failed to parse minZoom as float, falling back to default")}return.00126984127*(window.innerWidth-425)-10.928}var ee=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={loaded:!1,data:{data:[],map_hq:"",map_lq:"",minZoom:-12,maxZoom:-4,bounds:{east:0,north:0,south:0,west:0},items:[]}},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(function(){var e=X();return console.log("/tw-map"),"exiled-lands"===e?"/tw-map/data.json":"/tw-map/data_sw.json"}()).then((function(e){return e.json()})).then((function(t){return e.setState({data:t,loaded:!0})}))}},{key:"render",value:function(){if(!this.state.loaded)return Object(O.jsx)("div",{children:"Map Loading..."});var e=this.state.data.bounds;return Object(O.jsx)("div",{children:Object(O.jsx)(Y,{data:this.state.data.data,mapType:X(),minZoom:$(),maxZoom:this.state.data.maxZoom,mapHq:this.state.data.map_hq,mapLq:this.state.data.map_lq,north:e.north,west:e.west,east:e.east,south:e.south,contributors:this.state.data.contributors||[],items:this.state.data.items})})}}]),n}(o.a.Component);r.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(ee,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.33d9c76b.chunk.js.map